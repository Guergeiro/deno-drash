name: project
on:
  issues:
    types:
      - opened
      - reopened
  pull_request:
    branches: 
      - master
    types:
      - opened
      - reopened
jobs:
  add-to-project:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v2
        with:
          github-token: ${{ secrets.CI_USER_PAT }}
          script: |
            github.projects.createCard({
              column_id: context.eventName == "issues" ? 9815446 : 9815447,
              content_id: context.issue.number,
              content_type: context.eventName == "issues" ? "Issue" : "PullRequest"
            })
