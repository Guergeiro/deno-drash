language: python

env:
  - VER_DENO_LATEST="0.23.0"
    VER_DENO_STD_LATEST="0.20.0"
    VER_DRASH_LATEST="0.23.0"

install:
  - curl -fsSL https://deno.land/x/install/install.sh | sh -s v$VER_DENO_LATEST
  - export PATH="$HOME/.deno/bin:$PATH" #make sure deno is accessible

script:
  - console/tests

# before_deploy:
#   - cd $DRASH_DIR_ROOT
#   - console/bump_versions
#   - cd docs
#   - npm install
#   - export DRASH_DIR_EXAMPLE_CODE="$DRASH_DIR_ROOT/docs/src/example_code"
#   - export DRASH_SERVER_DIRECTORY="$DRASH_DIR_ROOT/docs"
#   - deno run --allow-read --allow-write --allow-env --allow-net $DRASH_DIR_ROOT/docs/docs.ts

# deploy:
#   - provider: script
#     skip_cleanup: true
#     script: console/deploy_docs
#     on:
#       tags: true
